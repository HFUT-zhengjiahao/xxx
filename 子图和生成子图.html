<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>子图与导出子图深度解析</title>
    <style>
        :root {
            --bg-color: #f4f6f8;
            --card-bg: #ffffff;
            --theme-blue: #1565c0;
            --text-main: #263238;
            --highlight-node: #d81b60; /* 选中节点的颜色 */
            --highlight-edge: #00897b; /* 选中边的颜色 */
            --missing: #e0e0e0;        /* 缺失部分的颜色 */
            --border-radius: 12px;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            max-width: 900px;
            border-bottom: 3px solid var(--theme-blue);
            padding-bottom: 15px;
            width: 100%;
        }

        h1 { color: var(--theme-blue); margin: 0; font-size: 2rem; }
        .subtitle { color: #546e7a; margin-top: 8px; font-size: 1rem; }

        /* 布局容器 */
        .section-container {
            width: 100%;
            max-width: 1100px;
            margin-bottom: 50px;
        }

        .section-title {
            font-size: 1.4rem;
            color: #37474f;
            border-left: 5px solid var(--theme-blue);
            padding-left: 15px;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        /* 卡片样式 */
        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            padding: 25px;
            transition: transform 0.2s;
            border-top: 4px solid #cfd8dc;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }

        .card-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        .card-badge {
            background: #eceff1;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.85rem;
            color: #455a64;
            margin-bottom: 15px;
            font-family: monospace;
        }

        /* 解释文本 */
        .explanation {
            background: #f9fafb;
            padding: 10px;
            border-radius: 6px;
            font-size: 0.9rem;
            color: #555;
            width: 100%;
            margin-top: 15px;
            border-left: 3px solid #ddd;
        }
        
        .highlight-text { font-weight: bold; }
        .t-node { color: var(--highlight-node); }
        .t-edge { color: var(--highlight-edge); }

        /* SVG 绘图样式 */
        svg { overflow: visible; width: 220px; height: 180px; }
        
        .edge { stroke: #37474f; stroke-width: 2px; }
        .node { r: 10; fill: #fff; stroke: #37474f; stroke-width: 2px; }
        .node-text { font-size: 12px; fill: #333; text-anchor: middle; dominant-baseline: middle; font-weight: bold; }
        .edge-label { font-size: 11px; fill: #78909c; text-anchor: middle; background: white;}

        /* 状态样式类 */
        .ghost-edge { stroke: var(--missing); stroke-dasharray: 4 3; }
        .ghost-node { fill: #f5f5f5; stroke: var(--missing); color: #ccc; }
        .ghost-text { fill: #ccc; }
        
        .selected-node { stroke: var(--highlight-node); fill: #fce4ec; stroke-width: 3px; }
        .selected-edge { stroke: var(--highlight-edge); stroke-width: 3px; }
        
        /* 错误提示样式 (用于解释为何不是导出子图) */
        .error-edge { stroke: #d32f2f; stroke-width: 2px; stroke-dasharray: 2 2; animation: flash 2s infinite; }
        
        @keyframes flash { 50% { opacity: 0.3; } }

    </style>
</head>
<body>

    <header>
        <h1>子图与生成子图 (Subgraphs)</h1>
        <div class="subtitle">包含：普通子图 · 生成子图 · 导出子图(点/边)</div>
    </header>

    <!-- 第一部分：基础概念 -->
    <div class="section-container">
        <div class="section-title">1. 子图 vs 生成子图 (Spanning Subgraph)</div>
        <div class="grid">
            
            <!-- 母图 G -->
            <div class="card">
                <div class="card-title">母图 G (Parent Graph)</div>
                <div class="card-badge">V={1,2,3,4,5}, E={全部边}</div>
                <svg viewBox="0 0 200 160">
                    <polygon points="100,20 20,80 50,150 150,150 180,80" fill="none" stroke="none"/>
                    <!-- Edges -->
                    <line x1="100" y1="20" x2="20" y2="80" class="edge" />
                    <line x1="20" y1="80" x2="50" y2="150" class="edge" />
                    <line x1="50" y1="150" x2="150" y2="150" class="edge" />
                    <line x1="150" y1="150" x2="180" y2="80" class="edge" />
                    <line x1="180" y1="80" x2="100" y2="20" class="edge" />
                    <line x1="100" y1="20" x2="50" y2="150" class="edge" /> <!-- Diagonal -->
                    
                    <!-- Nodes -->
                    <circle cx="100" cy="20" class="node" /><text x="100" y="20" class="node-text">v1</text>
                    <circle cx="20" cy="80" class="node" /><text x="20" y="80" class="node-text">v2</text>
                    <circle cx="50" cy="150" class="node" /><text x="50" y="150" class="node-text">v3</text>
                    <circle cx="150" cy="150" class="node" /><text x="150" y="150" class="node-text">v4</text>
                    <circle cx="180" cy="80" class="node" /><text x="180" y="80" class="node-text">v5</text>
                </svg>
                <div class="explanation">
                    这是原始图 G。
                </div>
            </div>

            <!-- 普通子图 -->
            <div class="card">
                <div class="card-title">普通子图 (Subgraph)</div>
                <div class="card-badge">V' ⊆ V, E' ⊆ E</div>
                <svg viewBox="0 0 200 160">
                    <!-- Ghost parts -->
                    <line x1="150" y1="150" x2="180" y2="80" class="ghost-edge" />
                    <line x1="180" y1="80" x2="100" y2="20" class="ghost-edge" />
                    <circle cx="180" cy="80" class="node ghost-node" />
                    
                    <!-- Real parts -->
                    <line x1="100" y1="20" x2="20" y2="80" class="edge" />
                    <line x1="20" y1="80" x2="50" y2="150" class="edge" />
                    <line x1="50" y1="150" x2="150" y2="150" class="edge" />
                    <line x1="100" y1="20" x2="50" y2="150" class="edge" />
                    
                    <circle cx="100" cy="20" class="node" /><text x="100" y="20" class="node-text">v1</text>
                    <circle cx="20" cy="80" class="node" /><text x="20" y="80" class="node-text">v2</text>
                    <circle cx="50" cy="150" class="node" /><text x="50" y="150" class="node-text">v3</text>
                    <circle cx="150" cy="150" class="node" /><text x="150" y="150" class="node-text">v4</text>
                </svg>
                <div class="explanation">
                    少了一些点(v5)，也少了一些边。<br>只要是原图的一部分即可。
                </div>
            </div>

            <!-- 生成子图 -->
            <div class="card" style="border-top-color: var(--highlight-node);">
                <div class="card-title">生成子图 (Spanning Subgraph)</div>
                <div class="card-badge" style="color:var(--highlight-node); font-weight:bold;">关键条件：V' = V</div>
                <svg viewBox="0 0 200 160">
                    <!-- Ghost Edges (deleted) -->
                    <line x1="50" y1="150" x2="150" y2="150" class="ghost-edge" />
                    <line x1="100" y1="20" x2="50" y2="150" class="ghost-edge" />
                    
                    <!-- Real parts (All Nodes!) -->
                    <line x1="100" y1="20" x2="20" y2="80" class="edge" />
                    <line x1="20" y1="80" x2="50" y2="150" class="edge" />
                    <line x1="150" y1="150" x2="180" y2="80" class="edge" />
                    <line x1="180" y1="80" x2="100" y2="20" class="edge" />
                    
                    <!-- All nodes must correspond to parent -->
                    <circle cx="100" cy="20" class="node selected-node" /><text x="100" y="20" class="node-text">v1</text>
                    <circle cx="20" cy="80" class="node selected-node" /><text x="20" y="80" class="node-text">v2</text>
                    <circle cx="50" cy="150" class="node selected-node" /><text x="50" y="150" class="node-text">v3</text>
                    <circle cx="150" cy="150" class="node selected-node" /><text x="150" y="150" class="node-text">v4</text>
                    <circle cx="180" cy="80" class="node selected-node" /><text x="180" y="80" class="node-text">v5</text>
                </svg>
                <div class="explanation">
                    <span class="t-node">保留所有节点</span>，但删除了部分边。<br>这就是“生成”的含义。
                </div>
            </div>
        </div>
    </div>

    <!-- 第二部分：导出子图 -->
    <div class="section-container">
        <div class="section-title">2. 导出子图 (Induced Subgraph)</div>
        <p style="margin-top:-15px; margin-bottom:20px; color:#666;">核心逻辑：一旦选定集合，对应的“另一半”必须**全部**保留。</p>
        
        <div class="grid">
            <!-- 结点导出 -->
            <div class="card" style="border-top-color: var(--highlight-node);">
                <div class="card-title">结点集导出子图 G[V₁]</div>
                <div class="card-badge">选定结点 V₁ = {v1, v2, v3}</div>
                <svg viewBox="0 0 200 160">
                    <!-- Ghost part -->
                    <circle cx="150" cy="150" class="node ghost-node" /><text x="150" y="150" class="ghost-text node-text">v4</text>
                    <circle cx="180" cy="80" class="node ghost-node" /><text x="180" y="80" class="ghost-text node-text">v5</text>
                    <line x1="150" y1="150" x2="180" y2="80" class="ghost-edge" />
                    <line x1="180" y1="80" x2="100" y2="20" class="ghost-edge" />
                    <line x1="50" y1="150" x2="150" y2="150" class="ghost-edge" />

                    <!-- Active Edges: MUST include all edges between v1,v2,v3 -->
                    <line x1="100" y1="20" x2="20" y2="80" class="edge selected-edge" />
                    <line x1="20" y1="80" x2="50" y2="150" class="edge selected-edge" />
                    <line x1="100" y1="20" x2="50" y2="150" class="edge selected-edge" />
                    
                    <circle cx="100" cy="20" class="node selected-node" /><text x="100" y="20" class="node-text">v1</text>
                    <circle cx="20" cy="80" class="node selected-node" /><text x="20" y="80" class="node-text">v2</text>
                    <circle cx="50" cy="150" class="node selected-node" /><text x="50" y="150" class="node-text">v3</text>
                </svg>
                <div class="explanation">
                    <strong>规则：</strong> 既然选了 {v1, v2, v3}，它们之间在原图中存在的边 <span class="t-edge">必须全部保留</span>。
                </div>
            </div>

            <!-- 边导出 -->
            <div class="card" style="border-top-color: var(--highlight-edge);">
                <div class="card-title">边集导出子图 G[E₁]</div>
                <div class="card-badge">选定边 E₁ = {(v1,v2), (v4,v5)}</div>
                <svg viewBox="0 0 200 160">
                    <!-- Ghost part -->
                    <circle cx="50" cy="150" class="node ghost-node" /><text x="50" y="150" class="ghost-text node-text">v3</text>
                    <line x1="20" y1="80" x2="50" y2="150" class="ghost-edge" />
                    <line x1="100" y1="20" x2="50" y2="150" class="ghost-edge" />
                    
                    <!-- Selected Edges -->
                    <line x1="100" y1="20" x2="20" y2="80" class="edge selected-edge" />
                    <line x1="150" y1="150" x2="180" y2="80" class="edge selected-edge" />

                    <!-- Forced Nodes -->
                    <circle cx="100" cy="20" class="node selected-node" style="stroke:var(--highlight-edge); fill:#fff;" /><text x="100" y="20" class="node-text">v1</text>
                    <circle cx="20" cy="80" class="node selected-node" style="stroke:var(--highlight-edge); fill:#fff;" /><text x="20" y="80" class="node-text">v2</text>
                    <circle cx="150" cy="150" class="node selected-node" style="stroke:var(--highlight-edge); fill:#fff;" /><text x="150" y="150" class="node-text">v4</text>
                    <circle cx="180" cy="80" class="node selected-node" style="stroke:var(--highlight-edge); fill:#fff;" /><text x="180" y="80" class="node-text">v5</text>
                </svg>
                <div class="explanation">
                    <strong>规则：</strong> 选了这两条边，那么边的<span class="t-node">端点必须出现</span>。v3没有被任何选中的边连接，所以消失。
                </div>
            </div>
        </div>
    </div>

    <!-- 第三部分：例题深度解析 -->
    <div class="section-container">
        <div class="section-title">3. PPT 例题深度解析 (Logic Analysis)</div>
        <p style="margin-top:-10px; margin-bottom:20px;">分析 PPT 最后一张图中的 G1 和 G2。</p>

        <div class="grid">
            <!-- 图 G1 -->
            <div class="card">
                <div class="card-title">图 G1：三角形</div>
                <svg viewBox="0 0 200 140">
                    <!-- Original G phantom -->
                    <circle cx="40" cy="30" class="node ghost-node" /><text x="40" y="30" class="ghost-text node-text">v1</text>
                    <circle cx="40" cy="110" class="node ghost-node" /><text x="40" y="110" class="ghost-text node-text">v2</text>

                    <!-- G1 Structure -->
                    <polygon points="100,30 160,70 100,110" fill="none" stroke="none" />
                    <line x1="100" y1="30" x2="160" y2="70" class="edge selected-edge" /> <!-- v3-v6(mistake in layout? following ppt topology) -->
                    <line x1="160" y1="70" x2="100" y2="110" class="edge selected-edge" />
                    <line x1="100" y1="110" x2="100" y2="30" class="edge selected-edge" />

                    <circle cx="100" cy="30" class="node selected-node" /><text x="100" y="30" class="node-text">v3</text>
                    <circle cx="160" cy="70" class="node selected-node" /><text x="160" y="70" class="node-text">v5</text>
                    <circle cx="100" cy="110" class="node selected-node" /><text x="100" y="110" class="node-text">v4</text>
                    
                    <text x="140" y="45" class="edge-label">e6</text>
                    <text x="140" y="100" class="edge-label">e5</text>
                    <text x="90" y="70" class="edge-label">e4</text>
                </svg>
                <div class="explanation">
                    <strong>结论：</strong> 是导出子图 G[{v3, v4, v5}]。<br>
                    <strong>原因：</strong> 既然选了 v3, v4, v5，原图中它们两两之间的连线(e4, e5, e6)都存在，且在 G1 中也都保留了。
                </div>
            </div>

            <!-- 图 G2 -->
            <div class="card">
                <div class="card-title">图 G2：<span style="color:var(--highlight-node)">是生成子图</span></div>
                <div class="card-badge" style="background:#ffebee; color:#c62828;">但不是导出子图！为什么？</div>
                <svg viewBox="0 0 240 140">
                    <!-- G2 Topology -->
                    <line x1="40" y1="30" x2="40" y2="110" class="edge" /> <!-- v1-v2 e1 -->
                    <line x1="40" y1="110" x2="100" y2="110" class="edge" /> <!-- v2-v4 e3 -->
                    <line x1="100" y1="30" x2="160" y2="70" class="edge" /> <!-- v3-v5 e6 -->
                    
                    <!-- The MISSING Edges (Proof it's not induced) -->
                    <line x1="40" y1="30" x2="100" y2="30" class="error-edge" /> <!-- v1-v3 Missing -->
                    <line x1="100" y1="110" x2="160" y2="70" class="error-edge" /> <!-- v4-v5 Missing -->
                    
                    <circle cx="40" cy="30" class="node selected-node" /><text x="40" y="30" class="node-text">v1</text>
                    <circle cx="40" cy="110" class="node selected-node" /><text x="40" y="110" class="node-text">v2</text>
                    <circle cx="100" cy="110" class="node selected-node" /><text x="100" y="110" class="node-text">v4</text>
                    <circle cx="160" cy="70" class="node selected-node" /><text x="160" y="70" class="node-text">v5</text>
                    <circle cx="100" cy="30" class="node selected-node" /><text x="100" y="30" class="node-text">v3</text>
                    
                    <text x="25" y="70" class="edge-label">e1</text>
                    <text x="70" y="120" class="edge-label">e3</text>
                    <text x="130" y="45" class="edge-label">e6</text>
                    
                    <text x="70" y="20" fill="red" font-size="10">缺失!</text>
                </svg>
                <div class="explanation">
                    <strong>判定逻辑：</strong><br>
                    1. 包含了所有点 v1-v5，所以是<span class="t-node">生成子图</span>。<br>
                    2. 如果它是由点集 {v1...v5} 导出的，那么原图中 v1-v3 的边、v4-v5 的边 <span style="color:#d32f2f;">必须存在</span>。但 G2 丢掉了这些边，所以它<strong>不是</strong>结点导出子图。
                </div>
            </div>
        </div>
    </div>

</body>
</html>
